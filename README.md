<p align="center">
    <a href="https://git.io/typing-svg">
        <img src="https://readme-typing-svg.demolab.com?font=Rubik+Medium&size=30&duration=1609&pause=3000&color=9F9F9F&width=140&lines=Narza_ay" alt="Typing SVG" />
    </a>
</p>

<div align="center"> <img src="https://img.shields.io/badge/Built%20with%20-JDA%20&%20LavaPlayer-0078D6?style=for-the-badge" alt="Libraries"> <img src="https://img.shields.io/badge/Language-Java-ED8B00?style=for-the-badge" alt="Java"> <img src="https://img.shields.io/badge/Platform-Discord-7289DA?style=for-the-badge" alt="Platform"> </div>

-----

# üîÆ Meagan Client API Gateway

Bienvenue sur le **Meagan Client API Gateway** \! Ce projet sert de point d'entr√©e central pour tous les services API destin√©s √† Meagan Client. Il offre un routage dynamique, une gestion robuste des erreurs et une puissante interface en ligne de commande (CLI) pour une administration simplifi√©e des services.

-----

## ‚ú® Fonctionnalit√©s Cl√©s

  * **Chargement Dynamique des Services** : La passerelle d√©couvre et enregistre automatiquement les services API situ√©s dans le r√©pertoire `services`. Plus besoin de configuration manuelle √† chaque ajout de nouveau service \!
  * **Routage API Centralis√©** : Elle redirige intelligemment les requ√™tes vers les microservices backend appropri√©s, assurant une communication fluide entre les clients et vos services.
  * **Interface en Ligne de Commande (CLI)** : G√©rez et surveillez vos services directement depuis la console de la passerelle gr√¢ce √† une interface interactive et conviviale.
  * **V√©rifications de Sant√© (Health Checks)** : La passerelle surveille p√©riodiquement le statut de tous les services enregistr√©s, mettant √† jour leur disponibilit√© en temps r√©el.
  * **Support WebSocket** : Elle prend enti√®rement en charge les connexions WebSocket, ce qui est parfait pour les services en temps r√©el comme les jeux ou les applications de chat.
  * **Configuration par Variables d'Environnement** : Configurez facilement les ports et les URLs des services √† l'aide d'un simple fichier `.env`.

-----

## üöÄ D√©marrage Rapide

Ces instructions vous aideront √† obtenir une copie du projet et √† le faire fonctionner sur votre machine locale pour le d√©veloppement et les tests.

### Pr√©requis

Avant de commencer, assurez-vous d'avoir les √©l√©ments suivants install√©s :

  * **Node.js** : [https://nodejs.org/](https://nodejs.org/) (la version LTS est recommand√©e)
  * **npm** (fourni avec Node.js) ou **Yarn**

### Installation

1.  **Cloner le d√©p√¥t** :

    ```bash
    git clone https://github.com/votre-nom-utilisateur/meagan-api-gateway.git
    cd meagan-api-gateway
    ```

2.  **Installer les d√©pendances** :

    ```bash
    npm install
    # ou
    yarn install
    ```

3.  **Cr√©er un fichier `.env`** :
    √Ä la racine de votre projet, cr√©ez un fichier nomm√© `.env` et ajoutez vos variables d'environnement.

    ```
    GATEWAY_PORT=3000
    # Exemples d'URLs de service (celles-ci peuvent √™tre d√©finies dynamiquement par la passerelle si les services sont dans le dossier 'services')
    # AUTH_SERVICE_URL=http://localhost:3001
    # ECONOMY_SERVICE_URL=http://localhost:3002
    # GAME_SERVICE_WS_URL=ws://localhost:5000
    ```

      * `GATEWAY_PORT` : Le port sur lequel la passerelle API va s'ex√©cuter (par d√©faut : `3000`).
      * Bien que vous puissiez d√©finir des URLs de service sp√©cifiques ici, la passerelle est con√ßue pour d√©couvrir dynamiquement les services √† l'int√©rieur du r√©pertoire `services/` et leur attribuer des ports √† partir de `3001`.

### Lancer la Passerelle

Pour d√©marrer l'API Gateway :

```bash
npm start
# ou
node index.js
```

Au d√©marrage, la passerelle scannera le r√©pertoire `services` √† la recherche de fichiers JavaScript, les enregistrera comme services, puis vous pr√©sentera une interface CLI interactive.

-----

## üïπÔ∏è Commandes CLI

Une fois la passerelle en cours d'ex√©cution, vous pouvez interagir avec elle directement dans votre console en utilisant les commandes suivantes :

  * **`start all`** : Lance tous les services d√©couverts qui ne sont pas d√©j√† en cours d'ex√©cution.
  * **`start <nomService>`** : D√©marre un service sp√©cifique (ex: `start auth`).
  * **`stop <nomService>`** : Arr√™te un service sp√©cifique en cours d'ex√©cution (ex: `stop economy`).
  * **`list services`** : Affiche une liste d√©taill√©e de tous les services d√©couverts et leur statut actuel (en ligne, hors ligne, d√©marrage, erreur).
  * **`find <requ√™te>`** : (Espace r√©serv√©) Con√ßue pour rechercher des utilisateurs ou des donn√©es au sein de vos services. N√©cessite une impl√©mentation backend dans vos services.
  * **`set role <r√¥le> <userId>`** : (Espace r√©serv√©) Attribue un r√¥le √† un utilisateur sp√©cifique. N√©cessite une impl√©mentation backend.
  * **`remove role <r√¥le> <userId>`** : (Espace r√©serv√©) Retire un r√¥le √† un utilisateur sp√©cifique. N√©cessite une impl√©mentation backend.
  * **`list roles`** : (Espace r√©serv√©) Liste tous les r√¥les disponibles ou les r√¥les pour un utilisateur sp√©cifique. N√©cessite une impl√©mentation backend.
  * **`time`** : Affiche l'heure actuelle du serveur.
  * **`ping`** : Renvoie le temps de r√©ponse du serveur.
  * **`help`** : Affiche une liste de toutes les commandes disponibles et leurs descriptions.
  * **`exit`** : Arr√™te l'API Gateway.

-----

## üìÅ Structure du Projet

```
.
‚îú‚îÄ‚îÄ index.js                  # Application principale de la Passerelle API
‚îú‚îÄ‚îÄ .env.example              # Exemple de fichier de variables d'environnement
‚îú‚îÄ‚îÄ package.json              # D√©pendances et scripts du projet
‚îú‚îÄ‚îÄ services/                 # R√©pertoire de vos microservices
‚îÇ   ‚îú‚îÄ‚îÄ auth.js               # Exemple de Service d'Authentification
‚îÇ   ‚îú‚îÄ‚îÄ economy.js            # Exemple de Service d'√âconomie
‚îÇ   ‚îî‚îÄ‚îÄ game.js               # Exemple de Service de Jeu (peut √™tre bas√© sur WebSocket)
‚îî‚îÄ‚îÄ README.md                 # Ce fichier
```

### R√©pertoire des Services (`services/`)

Placez vos fichiers de microservices individuels (par exemple, `auth.js`, `economy.js`) √† l'int√©rieur du r√©pertoire `services/`. La passerelle d√©tectera automatiquement tout fichier `.js` dans ce r√©pertoire et le g√©rera comme un service.

Chaque service devrait id√©alement :

  * √âcouter sur un port (que la passerelle assignera dynamiquement, √† partir de `3001`).
  * Exposer un point de terminaison `/health` pour les v√©rifications de sant√© (pour les services HTTP).
  * G√©rer sa propre logique et ses responsabilit√©s sp√©cifiques.

-----

## ü§ù Contribution

Les contributions sont les bienvenues \! Si vous avez des suggestions d'am√©liorations ou de nouvelles fonctionnalit√©s, n'h√©sitez pas √† ouvrir une issue ou √† soumettre une pull request.

-----

## üìÑ Licence

Ce projet est sous licence MIT. Veuillez consulter le fichier `LICENSE` (si vous en cr√©ez un) pour plus de d√©tails.

-----
